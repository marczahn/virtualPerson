---
phase: 03-consciousness
plan: "02"
type: tdd
wave: 1
depends_on:
  - "03-01"
files_modified:
  - v2/internal/consciousness/consciousness.go
  - v2/internal/consciousness/consciousness_test.go
  - .planning/phases/03-consciousness/03-02-SUMMARY.md
  - .planning/REQUIREMENTS.md
  - .planning/STATE.md
  - .planning/CONTINUITY.md
  - .planning/NEXT_SESSION_START.md
  - .planning/ROADMAP.md
autonomous: true
requirements:
  - CON-09
  - CON-10
  - CON-11
---

<objective>
Implement consciousness action-gating and drive-override contracts under `v2/internal/consciousness`.

Output: deterministic action outcome resolver for environment gating and drive override application using `effective = max(raw*0.5, reported)` with clamping.
</objective>

<execution>
1. Red phase: add failing tests for action allowed/blocked outcomes, deterministic behavior, and override clamp formula.
2. Green phase: implement pure contract functions and recompute active goal after effective drives are applied.
3. Verify: run package tests and full `v2` suite with `GOCACHE=/tmp/go-build`.
4. Sync requirements/state/continuity docs.
</execution>

<layer_check>
- Affected layers: Consciousness (primary), Motivation (input/output types).
- Boundary rule: `internal/consciousness` may consume `internal/motivation`; no reverse dependency introduced.
- New dependencies: none.
</layer_check>
