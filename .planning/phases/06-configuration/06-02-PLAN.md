---
phase: 06-configuration
plan: "02"
type: tdd
wave: 1
depends_on:
  - "06-01"
files_modified:
  - v2/internal/config/loader.go
  - v2/internal/config/loader_test.go
  - v2/cmd/person/main.go
  - v2/cmd/person/main_test.go
  - .planning/phases/06-configuration/06-02-SUMMARY.md
  - .planning/REQUIREMENTS.md
  - .planning/STATE.md
  - .planning/CONTINUITY.md
  - .planning/NEXT_SESSION_START.md
  - .planning/ROADMAP.md
autonomous: true
requirements:
  - INF-04
---

<objective>
Implement configuration loading so tuning values are adjustable without source changes.

Output: runtime config loaded from file/env with validation, defaults, and deterministic precedence rules.
</objective>

<execution>
1. Red phase: add failing tests for precedence (defaults < file < env < flags), validation failures, and reproducible loading behavior.
2. Green phase: implement loader + validation and wire runtime to consume loaded config.
3. Verify: run package tests and full `v2` suite with `GOCACHE=/tmp/go-build`.
4. Sync requirements/state/continuity docs.
</execution>

<layer_check>
- Affected layers: infrastructure/config + cmd wiring.
- Boundary rule: only composition root reads env/files; domain receives typed config.
- New dependencies: none.
</layer_check>
