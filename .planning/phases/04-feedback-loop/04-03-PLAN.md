---
phase: 04-feedback-loop
plan: "03"
type: tdd
wave: 1
depends_on:
  - "04-02"
files_modified:
  - v2/internal/biology/feedback.go
  - v2/internal/biology/feedback_test.go
  - v2/internal/consciousness/actions.go
  - v2/internal/consciousness/consciousness_test.go
  - .planning/phases/04-feedback-loop/04-03-SUMMARY.md
  - .planning/REQUIREMENTS.md
  - .planning/STATE.md
  - .planning/CONTINUITY.md
  - .planning/NEXT_SESSION_START.md
  - .planning/ROADMAP.md
autonomous: true
requirements:
  - FBK-05
  - FBK-06
---

<objective>
Implement the third feedback-loop contract slice under `v2/internal/...`.

Output: explicit `BioRate` (dt-scaled) and `BioPulse` (one-shot) types, plus end-of-tick-only feedback application contract via a tick buffer that accumulates during tick and applies in one commit.
</objective>

<execution>
1. Red phase: add failing tests for dt-scaled vs one-shot effect semantics and for no mid-tick mutation while feedback is buffered.
2. Green phase: add biology feedback types and end-of-tick application API; update consciousness pulse outputs to `[]biology.BioPulse`.
3. Verify: run package tests and full `v2` suite with `GOCACHE=/tmp/go-build`.
4. Sync requirements/state/continuity docs.
</execution>

<layer_check>
- Affected layers: Biology (feedback contracts), Consciousness (pulse emitters).
- Boundary rule: inward-only dependencies preserved; `consciousness` imports `biology`, no reverse dependency.
- New dependencies: none.
</layer_check>

