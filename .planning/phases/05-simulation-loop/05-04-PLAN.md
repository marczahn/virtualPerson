---
phase: 05-simulation-loop
plan: "04"
type: tdd
wave: 1
depends_on:
  - "05-03"
files_modified:
  - v2/internal/output/display.go
  - v2/internal/output/display_test.go
  - v2/internal/output/labels.go
  - v2/internal/output/labels_test.go
  - v2/internal/infrastructure/simulation_runner.go
  - .planning/phases/05-simulation-loop/05-04-SUMMARY.md
  - .planning/REQUIREMENTS.md
  - .planning/STATE.md
  - .planning/CONTINUITY.md
  - .planning/NEXT_SESSION_START.md
  - .planning/ROADMAP.md
autonomous: true
requirements:
  - INF-01
  - INF-02
---

<objective>
Implement CLI output contracts for layer visibility and significant drive change reporting.

Output: BIO / DRIVES / MIND tagged output stream, with drive updates emitted only when significance thresholds are crossed.
</objective>

<execution>
1. Red phase: add failing tests for source tags, deterministic formatting, and significance threshold filtering for drive changes.
2. Green phase: implement output labels + display and connect loop results to output entries.
3. Verify: run package tests and full `v2` suite with `GOCACHE=/tmp/go-build`.
4. Sync requirements/state/continuity docs.
</execution>

<layer_check>
- Affected layers: infrastructure (orchestration-to-output bridge), output (presentation only).
- Boundary rule: output depends on contracts only; no domain package depends on output.
- New dependencies: none.
</layer_check>
